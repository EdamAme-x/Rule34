{"version":3,"file":"main.js","mappings":"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","sources":["./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/utils/randomInt.ts","./src/main.ts"],"sourcesContent":["import { Component, OnInit } from \"@angular/core\";\nimport {\n  DomSanitizer,\n  SafeHtml,\n  SafeResourceUrl,\n} from \"@angular/platform-browser\";\nimport { randomInt } from \"./utils/randomInt\";\n\n@Component({\n  selector: \"app-root\",\n  templateUrl: \"./app.component.html\",\n  styleUrls: [\"./app.component.css\"],\n})\nexport class AppComponent implements OnInit {\n  title = \"rule34\";\n  imageUrl: string | null = \"\";\n  id = \"\";\n  image: SafeHtml = \"\";\n  reloadInterval: number = 5000;\n\n  changeIntervel(event: Event) {\n    this.reloadInterval = parseInt((event.target as HTMLInputElement).value);\n    localStorage.setItem(\"reloadInterval\", this.reloadInterval.toString());\n  }\n\n  ngOnInit() {\n    this.id = randomInt(1, 8000000).toString();\n    if (typeof window == \"undefined\") return;\n\n    if (!localStorage.getItem(\"reloadInterval\")) {\n      localStorage.setItem(\"reloadInterval\", \"5000\");\n    }\n\n    fetch(\"/image/\" + this.id)\n      .then((res) => res.text())\n      .then((text) => {\n        this.imageUrl = new DOMParser()\n          .parseFromString(text, \"text/html\")\n          .querySelectorAll(\"img#image\")[0]\n          .getAttribute(\"src\");\n\n        if (typeof this.imageUrl === null) {\n          window.location.reload();\n        }\n\n        this.image = this.sanitizer.bypassSecurityTrustHtml(\n          `<img id=\"image\" src=\"${this.imageUrl}\">`\n        );\n\n        setTimeout(() => {\n          this.ngOnInit();\n        }, this.reloadInterval);\n      });\n  }\n\n  constructor(private sanitizer: DomSanitizer) {}\n}\n","<div class=\"container\" [innerHTML]=\"image\"></div>\n\n<div class=\"button\">\n  <input type=\"number\" (input)=\"changeIntervel($event)\" [(ngModel)]=\"reloadInterval\" />\n</div>\n","import { NgModule } from \"@angular/core\";\nimport { BrowserModule } from \"@angular/platform-browser\";\n\nimport { AppComponent } from \"./app.component\";\nimport { FormsModule } from \"@angular/forms\";\n\n@NgModule({\n  declarations: [AppComponent],\n  imports: [BrowserModule, FormsModule],\n  providers: [],\n  bootstrap: [AppComponent],\n})\nexport class AppModule {}\n","export function randomInt(min: number, max: number) {\n    return Math.floor(Math.random() * (max - min + 1)) + min;\n}","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\n\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"names":["randomInt","AppComponent","changeIntervel","event","reloadInterval","parseInt","target","value","localStorage","setItem","toString","ngOnInit","id","window","getItem","fetch","then","res","text","imageUrl","DOMParser","parseFromString","querySelectorAll","getAttribute","location","reload","image","sanitizer","bypassSecurityTrustHtml","setTimeout","constructor","title","_","i0","ɵɵdirectiveInject","i1","DomSanitizer","_2","selectors","decls","vars","consts","template","AppComponent_Template","rf","ctx","ɵɵelement","ɵɵelementStart","ɵɵlistener","AppComponent_Template_input_input_2_listener","$event","AppComponent_Template_input_ngModelChange_2_listener","ɵɵelementEnd","ɵɵproperty","ɵɵsanitizeHtml","ɵɵadvance","BrowserModule","FormsModule","AppModule","bootstrap","_3","declarations","imports","min","max","Math","floor","random","__NgCli_bootstrap_1","platformBrowser","bootstrapModule","catch","err","console","error"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}